{
    "contents" : "source(\"../Rscripts/Plotting/MyPlots.R\")\n\nvif_unfiltered <- read.delim(\"~/Projects/HPCKrogan/Data/HIV-proteomics/Jurkat-Expression-PTM/Vif-Ub/processed_ratio_intensity/042313-tlj-59-62-matrix-ratios-unfiltered.txt\")\nvif_ubifiltered <- read.delim(\"~/Projects/HPCKrogan/Data/HIV-proteomics/Jurkat-Expression-PTM/Vif-Ub/processed_ratio_intensity/042313-tlj-59-62-matrix-ratios-ubifiltered.txt\")\nvif_ubi_unique_filtered <- read.delim(\"~/Projects/HPCKrogan/Data/HIV-proteomics/Jurkat-Expression-PTM/Vif-Ub/processed_ratio_intensity/042313-tlj-59-62-matrix-ratios-ubi_unique_filtered.txt\")\n\nvpr_unfiltered <- read.delim(\"~/Projects/HPCKrogan/Data/HIV-proteomics/Jurkat-Expression-PTM/Vpr-Ub/processed_ratio_intensity/042313-tlj-57-60-matrix-ratios-unfiltered.txt\")\nvpr_ubifiltered <- read.delim(\"~/Projects/HPCKrogan/Data/HIV-proteomics/Jurkat-Expression-PTM/Vpr-Ub/processed_ratio_intensity/042313-tlj-57-60-matrix-ratios-ubifiltered.txt\")\nvpr_ubi_unique_filtered <- read.delim(\"~/Projects/HPCKrogan/Data/HIV-proteomics/Jurkat-Expression-PTM/Vpr-Ub/processed_ratio_intensity/042313-tlj-57-60-matrix-ratios-ubi_unique_filtered.txt\")\n\nvpu_unfiltered <- read.delim(\"~/Projects/HPCKrogan/Data/HIV-proteomics/Jurkat-Expression-PTM/Vpu-Ub/processed_ratio_intensity/051313-tlj-52-55-matrix-ratios-unfiltered.txt\")\nvpu_ubifiltered <- read.delim(\"~/Projects/HPCKrogan/Data/HIV-proteomics/Jurkat-Expression-PTM/Vpu-Ub/processed_ratio_intensity/051313-tlj-52-55-matrix-ratios-ubifiltered.txt\")\nvpu_ubi_unique_filtered <- read.delim(\"~/Projects/HPCKrogan/Data/HIV-proteomics/Jurkat-Expression-PTM/Vpu-Ub/processed_ratio_intensity/051313-tlj-52-55-matrix-ratios-ubi_unique_filtered.txt\")\n\nunfiltered = merge(vif_unfiltered, vpr_unfiltered, by=c(\"uniprot_id\",\"Sequence\"), all=T)\nunfiltered = merge(unfiltered, vpu_unfiltered, by=c(\"uniprot_id\",\"Sequence\"), all=T)\n\nubi_filtered = merge(vif_ubifiltered, vpr_ubifiltered, by=c(\"uniprot_id\",\"Sequence\"), all=T)\nubi_filtered = merge(ubi_filtered, vpu_ubifiltered, by=c(\"uniprot_id\",\"Sequence\"), all=T)\n\nubi_unique_filtered = merge(vif_ubi_unique_filtered, vpr_ubi_unique_filtered, by=c(\"uniprot_id\",\"Sequence\"), all=T)\nubi_unique_filtered = merge(ubi_unique_filtered, vpu_ubi_unique_filtered, by=c(\"uniprot_id\",\"Sequence\"), all=T)\n\nunfiltered_counts = apply(unfiltered[,3:8], 2, function(x) sum(!is.na(x)))\nubi_filtered_counts = apply(ubi_filtered[,3:8], 2, function(x) sum(!is.na(x)))\nubi_unique_filtered_counts = apply(ubi_unique_filtered[,3:8], 2, function(x) sum(!is.na(x)))\n\nall_counts = cbind(unfiltered_counts, ubi_filtered_counts, ubi_unique_filtered_counts)\ncounts_selected_mean = t(apply(all_counts, 2,mean))\ncounts_selected_sd = t(apply(all_counts, 2, sd))\ncolnames(counts_selected_mean) = c(\"Total Peptides\", \"Ub Peptides\", \"Unique Peptides\")\n\npdf(\"~/Projects/HPCKrogan/Data/HIV-proteomics/Plots/Ub-scans/Jurkat_filtering_steps.pdf\", width=8, height=6)\nbarplot(t(all_counts), beside=T, col=c(\"lightgray\",\"blue\",\"gold\"), ylab=\"Peptide counts\", cex.names=0.8, legend.text=colnames(counts_selected_mean))\ndev.off()\n\npdf(\"~/Projects/HPCKrogan/Data/HIV-proteomics/Plots/Ub-scans/Jurkat_filtering_steps_grouped.pdf\", width=3, height=7)\nbarplot.EV(data=counts_selected_mean, errorvalues=counts_selected_sd,col=c(\"lightgray\",\"blue\",\"gold\"), ylab=\"Peptide counts\")\ndev.off()\n ",
    "created" : 1372050447604.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2952309094",
    "id" : "BC6E5EDD",
    "lastKnownWriteTime" : 1371856740,
    "path" : "~/Projects/HPCKrogan/Scripts/Rscripts/PTM/PTMfilterPlots.R",
    "properties" : {
        "tempName" : "Untitled1"
    },
    "source_on_save" : false,
    "type" : "r_source"
}